<!-- WCYD Website Head Code -->
<!-- Generated by Seth Duffin -->

<meta name="google-site-verification" content="Rls19VQx0jX1eJ2Lqf5cXbTjXESlKJ5ux4EffsJbA9A" />
<link rel="apple-touch-icon" sizes="180x180" href="https://raw.githubusercontent.com/sethduffin/wcyd/master/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://raw.githubusercontent.com/sethduffin/wcyd/master/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://raw.githubusercontent.com/sethduffin/wcyd/master/favicons/favicon-16x16.png">
<link rel="manifest" href="https://raw.githubusercontent.com/sethduffin/wcyd/master/favicons/site.webmanifest">
<link rel="mask-icon" href="https://raw.githubusercontent.com/sethduffin/wcyd/master/favicons/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="https://raw.githubusercontent.com/sethduffin/wcyd/master/favicons/favicon.ico">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="https://raw.githubusercontent.com/sethduffin/wcyd/master/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<title>WCYD</title>

<script type="text/javascript">

  $('head').prepend('<div class="sd-custom-theme"></div>')
  $('.sd-custom-theme').load('https://raw.githubusercontent.com/sethduffin/wcyd/master/code/theme.html')

  var show_alert = false;  //!window.localStorage.getItem('seen-alert1');

  // Define Close alert
  function closeAlert() {
      $('.alertContainer').fadeOut(200)
      window.localStorage.setItem('seen-alert1', true)
    }

  //On load
  $(window).on('load', function(){
    setTimeout(function(){
      $('html, body').animate({
          scrollTop: $(".cover__footer").offset().top+30,
      },1500);
      $('.cover__footer').animate({
          opacity:0,
      },1500);
    },600)
  });

  var labeledItems = {
    'WCYD Statement Hoodie': 'New Colors',
    'WCYD Badge Hoodie': 'New Colors',
  }

  var labelColor = '#55a0d6'

  function labelItems() {
    for (const [key, value] of Object.entries(labelItems)) {
      var label = (`
      <div class="grid-product__label">
        <div class="ec-label label--attention" style="background-color:'`+labelColor+`';">
          <div class="label__text">`+value+`</div>
        </div>
      </div>
    `)
      var labelContainer = document.evaluate('//div[text()="'+key+'"]', document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue.parentElement.parentElement.getElementsByClassName('grid-product__image-wrap')[0]
      labelContainer.insertAdjacentHTML( 'afterbegin', label );
    }
  }



  //On ready
  $(document).ready(function() {
    alertContainer = (`
      <div class="alertContainer" onClick="closeAlert()">
        <div class="alert">
          <span class="message">Due to COVID-19, orders may be delayed.</span>
          <span class="closebtn">Ã—</span> 
        </div>
      </div>
    `)

    labelItems()

    setTimeout(function(){
      $('.alertContainer').animate({
        top:["0px","swing"]
        },500)
    },2000)

    if (show_alert){
      $('body').append(alertContainer)
    }

    // On HTML modified
    $(document).bind('DOMSubtreeModified', function () {
      var message = "Orders will be shipped on Friday, June 19th."
      if(!$("p:contains('"+message+"')").length){
        $("p:contains('Please choose a shipping method:')").after('<p>'+message+'</p>')
      }
    });

    setTimeout(function(){
      var closed_message = "Oh no! We just missed you. We are currently not selling any items at the moment. Check back soon as we are always updating our website :)"
      if ($('.ecwid-maintenance-message > span').length) {
        if ($('.ecwid-maintenance-message > span').text() != closed_message){ 
          $('.ecwid-maintenance-message > span').text(closed_message)
        }
      }
    },1000)

    // On main change
    // if (window.screen.width <= 500) {
    //   setTimeout(function(){
    //     var scrolled = false
    //     $("#main").bind('DOMSubtreeModified', function () {
    //       elem = $(".details-product-purchase__add-to-bag")
    //       if(elem.length && !scrolled){
    //         $('html, body').animate({
    //             scrollTop: elem.prop("scrollHeight"),
    //         },500);
    //         scrolled = true
    //       } else if(!elem.length) {
    //         scrolled = false
    //       }
    //     });
    //   },500)
    // }
  });
</script>